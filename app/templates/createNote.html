{% extends "_layout.html" %}

{% block title %} Welcome {% endblock %}

{% block head %}
{{ super() }}
<link rel="stylesheet" href={{ url_for('static', filename='css/createNote.css') }}>
{% endblock %}

{% block content %}
<form class="note-form" name="new-note" action={{ url_for('createNote') }} method="post">
  <label for="title">Title</label>
    <input type="text" id="title" name="title" placeholder="Enter title" autocomplete="off"></textarea>
  <label for="picture">Picture</label>
    <input type="text" id="picture" name="picture" placeholder="Enter picture url" autocomplete="off"></textarea>
  <label for="privacy">Privacy setting</label>
    <select name="privacy" id="privacy">
        <option value="private">Private</option>
        <option value="unlisted">Unlisted</option>
        <option value="public">Public</option>
    </select>
  <label for="encrypt">Encrypt</label>
    <input type="checkbox" name="encrypt" id="encrypt">
  <label id="passwordlabel" for="password" style="visibility: hidden;">Encryption password</label>
    <input type="password" name="password" id="password" style="visibility:hidden;">
  <label for="note">Note</label>
    <textarea name ="note" id="note" placeholder="Write your note here!" autocomplete="off" rows="20" cols="60" required></textarea>
  <input type="submit" class="submit-btn" value="Save">
</form>

<script>
  function passwordVisibilityReset(){
    var cb = document.getElementById('encrypt')
    if (cb.checked == true){
      document.getElementById('password').style.visibility = "visible"
      document.getElementById('passwordlabel').style.visibility = "visible"
    } else if (cb.checked == false){
      document.getElementById('password').style.visibility = "hidden"
      document.getElementById('passwordlabel').style.visibility = "hidden"
    }
  }
  
  document.getElementById('encrypt').addEventListener('click',function(e){
    passwordVisibilityReset()
  })
  window.onload = function(){ passwordVisibilityReset }
</script>
<style>
  #encrypt{
    height: auto !important;
    width:auto !important;
  }
</style>
{% endblock %}
